<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
    <link rel="stylesheet" href="songs.css">
</head>

<body>
    <img src="images/nomusic.jpg" id="background" alt="">
    <div id="player-container">
        <div id="freeSpace"></div>
        <div id="player">
            <marquee>
                <div id="songTitle" class="song-title">my song title will goes here</div>
            </marquee>
            <input id="songSlider" type="range" min="0" step="1" max="" value="0" onchange="seekSong()">
            <div>
                <div id="currentTime">00:00</div>
                <div id="duration">00:00</div>
            </div>
            <div class="controllers">
                <img src="images/previous.png" width="30px" class="controlImages" onclick="previous();" />
                <img id="pp" src="images/pause.png" width="40px" class="controlImages" onclick="playOrPauseSong ();" />
                <img src="images/next.png" width="30px" class="controlImages" onclick="next();" />
            </div>
        </div>
        <div id="nextSongTitle" class="song-title"><b>NEXT SONG :</b>
            <marquee>Next song title goes here.....</marquee>
        </div>
    </div>
    <script>
        var songs = [
            "Love Dose   Yo Yo Honey Singh - [musiqpool].mp3",
            "Kabhi Jo Baadal Barse (Female)-Jackpot.mp3",
            "O Saki Saki - Batla House (2019).mp3",
            "Paagal - Badshah.mp3",
            "Psycho Saiyaan - Saaho (2019).mp3",
            "Sheher Ki Ladki - Khandaani Shafakhana (2019).mp3",
            "Shanivaar Raati (Remix) - [IndiaFunz.Com].mp3",
            "Kabhi Jo Baadal Barse.mp3",
            "Side To Side-Ariana Grande    Ft. Nicki Minaj (Remix) - [musiqpool].mp3",
            "I Can t Get Enough ( Letra) Ft. Tainy.mp3",
            "Lazy Lamhe - [musiqpool].mp3",
            "Besharam - Tere Mohalle.mp3", "Con Calma - [musiqpool].mp3", "Galat Baat Hai.mp3",
            "Billionera (Deejay Nini) - [musiqpool].mp3",
        ];

        var songTitle = document.getElementById('songTitle');
        var songSlider = document.getElementById('songSlider');
        var currentTime = document.getElementById('currentTime');
        var duration = document.getElementById('duration');
        var nextSongTitle = document.getElementById('nextSongTitle');

        var song = new Audio();
        var currentSong = 0;

        window.onload = loadSong();

        function loadSong() {
            song.src = "songs/" + songs[currentSong];
            songTitle.textContent = songs[currentSong];
            nextSongTitle.innerHTML = "<b>Next Song: </b>" + songs[currentSong + 1 % songs.length];
            song.playbackRate = 1;
            song.play();
            document.getElementById("pp").src = "images/pause.png";
            pp.style.transform = "scale(1)";
            setTimeout(showDuration, 1000);
        }

        setInterval(updateSongSlider, 1000);

        function updateSongSlider() {
            var c = Math.round(song.currentTime);
            songSlider.value = c;
            currentTime.textContent = convertTime(c);
            if (song.ended) {
                next();
            }
        }

        function convertTime(secs) {
            var min = Math.floor(secs / 60);
            var sec = secs % 60;
            min = (min < 10) ? "0" + min : min;
            sec = (sec < 10) ? "0" + sec : sec;
            return (min + ":" + sec);
        }

        function showDuration() {
            var d = Math.floor(song.duration);
            songSlider.setAttribute("max", d);
            duration.textContent = convertTime(d);
        }

        function playOrPauseSong() {

            if (song.paused) {
                song.play();
                document.getElementById("pp").src = "images/pause.png";
                pp.style.transform = "scale(1)";
            }
            else {
                song.pause();
                document.getElementById("pp").src = "images/play.png";
                pp.style.transform = "scale(1.3)";
            }
        }

        function next() {
            currentSong = currentSong + 1 % songs.length;
            loadSong();
        }

        function previous() {
            currentSong--;
            currentSong = (currentSong < 0) ? songs.length - 1 : currentSong;
            loadSong();
        }

        function seekSong() {
            song.currentTime = songSlider.value;
            currentTime.textContent = convertTime(song.currentTime);
        }
    </script>
</body>

</html>